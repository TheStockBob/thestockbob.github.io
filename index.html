<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8' />
  <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css' rel='stylesheet' />
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js'></script>
  <script>

    document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');
      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth'
      });
      calendar.render();

      // Fetch and parse CSV data
      fetch('events.csv')
        .then(response => response.text())
        .then(data => {
          // Parse CSV data
          var parsedData = Papa.parse(data, { header: true }).data;

          // Iterate through parsed data and add events to the calendar
          parsedData.forEach(event => {
            calendar.addEvent({
              title: event.title,
              start: event.start,
              end: event.end
            });
          });
        })
        .catch(error => console.error('Error fetching CSV:', error));
    });

  </script>
</head>
<body>
  <div id='calendar'></div>
</body>
</html>